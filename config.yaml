parameters:
  featurefactory:
    features:
      table: "odap_features.features_{entity}"
      path: "dbfs:/odap_features/features_{entity}.delta"

    metadata:
      table: "odap_features.metadata_{entity}"
      path: "dbfs:/odap_features/metadata_{entity}.delta"

    entities:
      customer:
        id_column: "customer_id"
        id_column_type: "long"
      account:
        id_column: "account_id"
        id_column_type: "long"

  segmentfactory:
    log:
      table: "odap_segments.export_logs"
      path: "dbfs:/odap_segments/export_logs.delta"

    segment:
      table: "odap_segments.segments"
      path: "dbfs:/odap_segments/segments.delta"

    destinations:
      email_currency_csv_dbfs_export:
        type: "csv_dbfs"
        path: "use_cases"
        attributes:
          customer:
            - "customer_email"
          account:
            - currency

      email_csv_dbfs_export:
        type: "csv_dbfs"
        path: "use_cases"
        attributes:
          customer:
            - "customer_email"

execution:
  job_tag: test
  cluster:
    spark_version: "10.4.x-scala2.12"
    custom_tags:
      PxPorpuse: "ExportImport"
    node_type_id: "Standard_D4ds_v4"
    data_security_mode: "NONE"
    runtime_engine: "STANDARD"
    num_workers: 1
      - "currency"
